# Example service â€” base values (shared by dev and prod)
# Uses helm/base chart
namespace: dev

# Required when using ingress: domain for subdomain-based hostnames
ingress:
  domain: blumefy.com
  traefikNamespace: traefik
  certResolver: letsencrypt

image:
  repo: nginx:alpine
  pullPolicy: IfNotPresent

app:
  example:
    service:
      port: 80
    autoscaling:
      enabled: false
      minReplicaCount: 1
      maxReplicaCount: 3
      targetCPUUtilizationPercentage: 80
    resources:
      requests:
        memory: "64Mi"
        cpu: "100m"
      limits:
        memory: "128Mi"
        cpu: "200m"
    health: /
    ingress:
      subdomain: example   # -> example.blumefy.com (override in overlays for dev)
    configmap:
      NODE_ENV: development
    # Base chart expects secrets (AWS Secret Store). Add if using AWS; otherwise
    # modify helm/base to make the secrets volume conditional.
    # secrets: ["APP_SECRET"]
