# roles/infisical/templates/infisical-secrets.yml.j2
# Kubernetes Secret for Infisical â€” AUTH_SECRET, ENCRYPTION_KEY, SITE_URL
---
apiVersion: v1
kind: Secret
metadata:
  name: infisical-secrets
  namespace: {{ infisical_namespace }}
type: Opaque
stringData:
  AUTH_SECRET: "{{ vault_infisical_auth_secret }}"
  ENCRYPTION_KEY: "{{ vault_infisical_encryption_key }}"
  SITE_URL: "{{ infisical_site_url }}"
  # Allow Kubernetes Auth identity to use kubernetes.default.svc.cluster.local (resolves to 10.43.0.1)
  ALLOW_INTERNAL_IP_CONNECTIONS: "true"
